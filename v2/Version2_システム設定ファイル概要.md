# Novel Automation System - Configuration & Data Structure Guide

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€AIå°èª¬è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºãƒ»é‹ç”¨ãƒ»ä¿å®ˆã«ãŠã‘ã‚‹å…±æœ‰è³‡æ–™ã¨ã—ã¦ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ—‚ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### åŸºæœ¬æ§‹é€ 

```
data/
â”œâ”€â”€ config/          # ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ characters/      # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ chapters/        # ç”Ÿæˆã•ã‚ŒãŸç« ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ parameters/      # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
â”œâ”€â”€ plot/           # ãƒ—ãƒ­ãƒƒãƒˆãƒ»ç‰©èªæ§‹é€ 
â”œâ”€â”€ prompts/        # ç”Ÿæˆå±¥æ­´ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¿å­˜
â”œâ”€â”€ *-memory/       # è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ 
â”œâ”€â”€ skills/         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¹ã‚­ãƒ«å®šç¾©
â”œâ”€â”€ world-knowledge/ # ä¸–ç•Œè¦³ãƒ»è¨­å®šçŸ¥è­˜
â””â”€â”€ backup/         # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ“‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°

### 1. ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬è¨­å®š (`data/config/`)

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¢å¼ | ç”¨é€” | é‡è¦åº¦ |
|---------|------|------|--------|
| `system-parameters.json` | JSON | ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å‹•ä½œãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | â˜…â˜…â˜… |
| `world-settings.yaml` | YAML | ä¸–ç•Œè¦³ãƒ»è¨­å®šæƒ…å ± | â˜…â˜…â˜… |
| `story-plot.yaml` | YAML | ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ãƒƒãƒˆè¨­å®š | â˜…â˜…â˜… |
| `character-development.yaml` | YAML | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æˆé•·è¨­å®š | â˜…â˜…â˜† |
| `theme-tracker.yaml` | YAML | ãƒ†ãƒ¼ãƒè¿½è·¡è¨­å®š | â˜…â˜…â˜† |
| `planned_foreshadowings.json` | JSON | è¨ˆç”»ã•ã‚ŒãŸä¼ç·šç®¡ç† | â˜…â˜…â˜† |

#### ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¾‹:
```json
{
  "version": "1.0.0",
  "generation": {
    "targetLength": 8000,
    "temperature": 0.7,
    "maxRetries": 3
  },
  "memory": {
    "maxHistoryItems": 100,
    "shortTermRetention": "72h"
  },
  "characters": {
    "maxActiveCharacters": 10
  }
}
```

### 2. ãƒ—ãƒ­ãƒƒãƒˆãƒ»ç‰©èªæ§‹é€  (`data/plot/`)

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª/ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|-------------------|------|
| `sections/` | ç‰©èªã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾© |
| `relationships.json` | ç™»å ´äººç‰©é–¢ä¿‚å›³ |
| `sections.json` | ç« ãƒ»ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€  |

### 3. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®š (`data/config/story-plot/`)

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `abstract-plot.yaml` | æŠ½è±¡çš„ãƒ—ãƒ­ãƒƒãƒˆæ§‹é€  |
| `concrete-plot.yaml` | å…·ä½“çš„ãƒ—ãƒ­ãƒƒãƒˆè©³ç´° |
| `medium-plot.yaml` | ç¯‡ã®è©³ç´°ãƒ—ãƒ­ãƒƒãƒˆ |

---

## ğŸ‘¥ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æ§‹é€  (`data/characters/`)

```
characters/
â”œâ”€â”€ main/           # ä¸»è¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
â”œâ”€â”€ sub/            # ã‚µãƒ–ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
â”œâ”€â”€ background/     # èƒŒæ™¯ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
â”œâ”€â”€ mob/            # ãƒ¢ãƒ–ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
â”œâ”€â”€ definitions/    # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ states/         # ç¾åœ¨ã®çŠ¶æ…‹
â”œâ”€â”€ relationships/  # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–“é–¢ä¿‚
â””â”€â”€ templates/      # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```

#### ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾©ä¾‹ (`character-sato.yaml`):
```yaml
basic_info:
  name: "ä½è—¤"
  age: 25
  occupation: "ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢"
  personality:
    - "çœŸé¢ç›®"
    - "è²¬ä»»æ„ŸãŒå¼·ã„"
    - "å°‘ã—å†…å‘çš„"
background:
  family: "ä¸¡è¦ªã¨å¦¹"
  education: "å·¥å­¦éƒ¨å’æ¥­"
skills:
  technical: 8
  communication: 6
  leadership: 5
current_state:
  mood: "é›†ä¸­"
  location: "ã‚ªãƒ•ã‚£ã‚¹"
  goals:
    - "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆåŠŸ"
    - "ãƒãƒ¼ãƒ ã®çµ±ç‡"
```

### é–¢é€£ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | å†…å®¹ | ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ |
|-------------|------|-------------|
| `data/character-parameters/` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | JSON |
| `data/character-skills/` | ã‚¹ã‚­ãƒ«å®šç¾© | JSON |
| `data/skills/characters/` | å€‹åˆ¥ã‚¹ã‚­ãƒ«ãƒ‡ãƒ¼ã‚¿ | JSON |
| `data/growth-plans/` | æˆé•·è¨ˆç”» | JSON |

---

## ğŸ§  è¨˜æ†¶éšå±¤ã‚·ã‚¹ãƒ†ãƒ 

### 3å±¤è¨˜æ†¶ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

#### 1. çŸ­æœŸè¨˜æ†¶ (`data/short-term/`)
- **ä¿å­˜æœŸé–“**: 72æ™‚é–“
- **ç”¨é€”**: æœ€è¿‘ã®ç« ã€å³åº§ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«**:
  - `chapters/` - æœ€è¿‘ç”Ÿæˆã•ã‚ŒãŸç« 
  - `generation-cache.json` - ç”Ÿæˆã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - `immediate-context-metadata.json` - å³åº§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
  - `processing-buffers.json` - å‡¦ç†ãƒãƒƒãƒ•ã‚¡

#### 2. ä¸­æœŸè¨˜æ†¶ (`data/mid-term-memory/`)
- **ä¿å­˜æœŸé–“**: æ°¸ç¶šï¼ˆå®šæœŸã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
- **ç”¨é€”**: åˆ†æçµæœã€å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã€é€²è¡Œç®¡ç†
- **ãƒ•ã‚¡ã‚¤ãƒ«**:
  - `analysis-results.json` - åˆ†æçµæœ
  - `character-evolution.json` - ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–è¨˜éŒ²
  - `narrative-progression.json` - ç‰©èªé€²è¡Œãƒ‡ãƒ¼ã‚¿
  - `quality-metrics.json` - å“è³ªè©•ä¾¡æŒ‡æ¨™
  - `system-statistics.json` - ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ

#### 3. é•·æœŸè¨˜æ†¶ (`data/long-term-memory/`)
- **ä¿å­˜æœŸé–“**: æ°¸ç¶š
- **ç”¨é€”**: ç¢ºç«‹ã•ã‚ŒãŸçŸ¥è­˜ã€ã‚·ã‚¹ãƒ†ãƒ å­¦ç¿’ãƒ‡ãƒ¼ã‚¿
- **æ§‹é€ **:
```
long-term-memory/
â”œâ”€â”€ completed/              # å®Œäº†è¨˜éŒ²
â”‚   â”œâ”€â”€ effectiveness-records.json
â”‚   â””â”€â”€ sections/          # ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨˜éŒ²
â”œâ”€â”€ knowledge/             # çŸ¥è­˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â””â”€â”€ characters/        # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼çŸ¥è­˜
â””â”€â”€ system-knowledge/      # ã‚·ã‚¹ãƒ†ãƒ çŸ¥è­˜
    â””â”€â”€ patterns.json      # å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³
```

---

## âš™ï¸ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç®¡ç†

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿éšå±¤ (`data/parameters/`)

```
parameters/
â”œâ”€â”€ templates/              # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ æ¨™æº–è¨­å®š.json        # æ¨™æº–è¨­å®š
â”‚   â”œâ”€â”€ ç´°å¯†è¨­å®š.json        # è©³ç´°è¨­å®š
â”‚   â””â”€â”€ é«˜ãƒ†ãƒ³ã‚·ãƒ§ãƒ³è¨­å®š.json # é«˜ãƒ†ãƒ³ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ characters/             # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åˆ¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
â”œâ”€â”€ user-configurations/    # ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
â””â”€â”€ definitions.json        # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®šç¾©
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹:
```json
{
  "name": "æ¨™æº–è¨­å®š",
  "description": "8000æ–‡å­—ã®æ¨™æº–å°èª¬ç”Ÿæˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿",
  "parameters": {
    "generation": {
      "targetLength": 8000,
      "temperature": 0.7,
      "topP": 0.9
    },
    "memory": {
      "summaryDetailLevel": 7,
      "maxContextLength": 50000
    }
  }
}
```

---

## ğŸ“– ç« ãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†

### ç« ãƒ‡ãƒ¼ã‚¿ (`data/chapters/`)

- **æ§‹é€ **: `chapter-{number}.md` + `chapter-{number}-metadata.json`
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¾‹**:
```json
{
  "chapterNumber": 1,
  "title": "å§‹ã¾ã‚Š",
  "wordCount": 8245,
  "characters": ["ä½è—¤", "ç”°ä¸­"],
  "themes": ["æˆé•·", "å‹æƒ…"],
  "qualityScore": 0.85,
  "createdAt": "2025-06-06T10:00:00Z"
}
```

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå±¥æ­´ (`data/prompts/`)

- **å‘½åè¦å‰‡**: `prompt_chapter{N}_{timestamp}.txt`
- **ç”¨é€”**: ç”Ÿæˆå±¥æ­´ã®è¿½è·¡ã€ãƒ‡ãƒãƒƒã‚°ã€å“è³ªæ”¹å–„

---

## ğŸŒ ä¸–ç•Œè¦³ãƒ»è¨­å®šç®¡ç†

### ä¸–ç•ŒçŸ¥è­˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (`data/world-knowledge/`)

```
world-knowledge/
â”œâ”€â”€ characters/    # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¨­å®š
â”œâ”€â”€ events/        # ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š
â”œâ”€â”€ locations/     # å ´æ‰€è¨­å®š
â””â”€â”€ settings/      # ãã®ä»–è¨­å®š
```

### æ–‡å­¦ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ (`data/literary-guidelines.json`)

æ–‡ä½“ã€è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã€å“è³ªåŸºæº–ã®å®šç¾©

---

## ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨ãƒ•ã‚¡ã‚¤ãƒ«

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒ

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç”¨é€” |
|-------------|------|
| `data/backup/` | æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| `data/backups/metadata/` | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| `data/rollback-data/` | ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ãƒ‡ãƒ¼ã‚¿ |

### è¨ºæ–­ãƒ»åˆ†æ

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç”¨é€” |
|-------------|------|
| `data/diagnostics/` | ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­çµæœ |
| `data/temporary-analysis/` | ä¸€æ™‚çš„åˆ†æãƒ‡ãƒ¼ã‚¿ |
| `data/migrations/` | ãƒ‡ãƒ¼ã‚¿ç§»è¡Œè¨˜éŒ² |

---

## ğŸ“ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å„ªå…ˆé †ä½

1. **æœ€é«˜å„ªå…ˆ**: `data/config/system-parameters.json`
2. **é«˜å„ªå…ˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š (`data/parameters/user-configurations/`)
3. **ä¸­å„ªå…ˆ**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š (`data/parameters/templates/`)
4. **ä½å„ªå…ˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼ˆã‚³ãƒ¼ãƒ‰å†…ï¼‰

---

## ğŸš€ ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®è¨­å®šèª­ã¿è¾¼ã¿é †åº

1. **ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®š** â†’ ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
2. **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­å®š** â†’ ä¸–ç•Œè¨­å®šã€ãƒ—ãƒ­ãƒƒãƒˆè¨­å®š
3. **è¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ ** â†’ 3å±¤è¨˜æ†¶ã®åˆæœŸåŒ–
4. **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†** â†’ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
5. **ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³** â†’ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š

---

## ğŸ“‹ ä¿å®ˆãƒ»é‹ç”¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æ—¥å¸¸ãƒã‚§ãƒƒã‚¯
- [ ] `data/short-term/` ã®å®¹é‡ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
- [ ] ç”Ÿæˆå“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèª

### é€±æ¬¡ãƒã‚§ãƒƒã‚¯
- [ ] `data/mid-term-memory/` ã®åˆ†æçµæœãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
- [ ] ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆã®åˆ†æ

### æœˆæ¬¡ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
- [ ] é•·æœŸè¨˜æ†¶ãƒ‡ãƒ¼ã‚¿ã®æ•´ç†
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
- [ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€é©åŒ–

---

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **ãƒ¡ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: `README.md`
- **CLAUDEè¨­å®š**: `CLAUDE.md`
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: `system-documentation.md`
- **ç§»è¡Œãƒ•ã‚¡ã‚¤ãƒ«å±¥æ­´**: `version/MOVED_FILES_LOG.md`

---

*æœ€çµ‚æ›´æ–°: 2025-06-06*
*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0*